<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Song Page</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <header>
      <h1 id="song-title">Now Playing</h1>
    </header>

    <main>
      <p>Spotify Track</p>
      
      <!-- Placeholder for the embedded track -->
      <div id="spotify-embed"></div>

    </main>

    <footer>
      <p> ... </p>
    </footer>
  </div>

  <script>
    // Get the song ID and name from the URL query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const songID = urlParams.get('song');  // e.g., "7qiZfU4dY1lWllzX7mPBI3"
    const songName = urlParams.get('name'); // e.g., "Shape of You - Ed Sheeran"

    // Set the header to the song name
    if (songName) {
      document.getElementById("song-title").innerText = songName;
    }

    // Create the embed URL for Spotify using the song ID
    const embedUrl = `https://open.spotify.com/embed/track/${songID}?utm_source=generator`;

    // Embed the iframe in the page
    const spotifyEmbedDiv = document.getElementById("spotify-embed");
    spotifyEmbedDiv.innerHTML = `
      <iframe style="border-radius:12px" src="${embedUrl}" width="100%" height="352" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    `;
  </script>
</body>
</html>
